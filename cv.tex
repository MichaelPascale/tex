% Macros for CV formatting.
% Copyright (c) 2021, Michael Pascale.

% Use Extended Plain TeX Features
\input eplain
\enablehyperlinks
\raggedbottom

% Page setup (PDFTeX)
\pdfpagewidth=8.5in
\pdfpageheight=11in

% Margins.
\hoffset=-0.25in
\voffset=-0.25in
\vsize=9.50in
\hsize=7.00in

% Single spaced.
\baselineskip=12pt

% Define font sizes.
%\font\large=cmr10 at 24pt
%\font\medium=cmr10 at 18pt
%\font\small=cmr10 at 11pt
%\font\tiny=cmr10 at 10pt


% Define font sizes.
\font\large=ptmr at 24pt
\font\medium=ptmr at 18pt
\font\small=ptmr at 11pt
\font\tiny=ptmr at 10pt

\font\bf=ptmb at 11pt
\font\it=ptmri at 11pt

%\font\large=ptmr at 24pt
%\font\medium=ptmr at 18pt
%\font\small=ptmr at 11pt
%\font\tiny=ptmr at 10pt
% Declare necessary registers.
\newdimen\center
\newbox\textbox
\newdimen\centertext
\newbox\bulletlenbox


% Centered Text

% Arguments:
% Text to center

\def\centered#1{

    \center=\hsize
    \divide \center by 2

    \noindent\hbox{#1}\setbox\textbox\lastbox

    \centertext=\wd\textbox
    \divide \centertext by 2

    \advance \center by -\centertext

    \noindent\hskip\center #1
}


% Section Heading w/ Horizontal Rule

% Arguments:
% Section name

\def\section#1{
    \begingroup
    \penalty-1000
    \vskip 5mm \noindent\tiny #1 \vskip1mm\hrule \vskip2mm
    \endgroup
}


% Indented Section (Left and Right Indent)

% Arguments:
% Text to indent

\long\def\indented#1{
    \par
    \advance \leftskip by 5mm
    \advance \rightskip by 5mm
    \noindent #1\par
    \advance \leftskip by -5mm
    \advance \rightskip by -5mm
}


% Position or Education Listing

% Arguments:
% Title, Date, Institution, Place, Description

\long\def\listing#1#2#3#4#5{
    \begingroup
    \noindent\bf #1 \small \hfill #2

    \penalty10000\noindent #3 \hfill #4

    \def\lastarg{#5}
    \ifx \empty\lastarg
    \else
    \penalty10000\vskip 3mm \indented{\noindent #5}
    \fi
    \vskip 3mm
    \endgroup
}

% Short Position or Education Listing

% Arguments:
% Title, Date, Institution, Place, Description

\long\def\shortlisting#1#2#3#4#5{
    \begingroup
    \noindent\bf #1 \small \hfill #2

    \penalty10000\noindent #3 \hfill #4

    \def\lastarg{#5}
    \ifx \empty\lastarg
    \else
    \penalty10000\noindent #5
    \fi
    \vskip 2mm
    \endgroup
}

% Publication Listing w/ Hanging Indent

% Arguments:
% APA formatted citation

\def\publisting#1{
    \begingroup
    \parindent=0mm
    \hangindent=10mm
    #1
    \vskip 1mm
    \endgroup
}

% Project Listing

% Arguments:
% Title, Authors/Metadata, Details, Body

\long\def\project#1#2#3#4
{\noindent\bi#1\small\par\penalty10000
	\noindent #2 \vskip1mm\par\penalty10000
    \noindent #3 \hfill #4\vskip 3mm
}


\def\projectitem#1{\setbox\bulletlenbox=\hbox{$\to$ }\vskip1mm\par\noindent\hangindent=\wd\bulletlenbox\hangafter=1 $\to$ #1}

% Hyperlink

% Arguments:
% URL, Text

\def\hl#1#2{\hlstart{url}{bstyle=U,bwidth=1,bcolor=.16 .78 .59}{#1}#2\hlend}
\def\ml#1{\hl{mailto:#1}{#1}}